databaseChangeLog:
 - changeSet:
    id: 1
    author: photorex
    runAlways: true
    sql:
      splitStatements: true
      sql: drop table if exists "books_authors"

 - changeSet:
     id: 2
     author: photorex
     runAlways: true
     sql:
       splitStatements: true
       sql: drop table if exists "books"

 - changeSet:
     id: 3
     author: photorex
     runAlways: true
     sql:
       splitStatements: true
       sql: drop table if exists "genres"

 - changeSet:
     id: 4
     author: photorex
     runAlways: true
     sql:
       splitStatements: true
       sql: drop table if exists "authors"

 - changeSet:
     id: 5
     author: photorex
     runAlways: true
     createTable:
        tableName: authors
        columns:
          - column:
              name: id
              type: bigint
              autoIncrement: true
              constraints:
                nullable: false
                primaryKey: true
                primaryKeyName: authors_pk
          - column:
              name: first_name
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: last_name
              type: varchar(255)
              constraints:
                nullable: false

 - changeSet:
     id: 6
     author: photorex
     runAlways: true
     createTable:
       tableName: genres
       columns:
         - column:
             name: id
             type: bigint
             autoIncrement: true
             constraints:
               nullable: false
               primaryKey: true
               primaryKeyName: genres_pk
         - column:
             name: name
             type: varchar(100)

 - changeSet:
     id: 7
     author: photorex
     runAlways: true
     createTable:
       tableName: books
       columns:
         - column:
             name: id
             type: bigint
             autoIncrement: true
             constraints:
               nullable: false
               primaryKey: true
               primaryKeyName: books_pk
         - column:
             name: genre_id
             type: bigint
             constraints:
               nullable: false
               foreignKeyName: fk_books_genres
               references: genres(id)
         - column:
             name: title
             type: varchar(255)
             constraints:
              nullable: false

 - changeSet:
     id: 8
     author: photorex
     runAlways: true
     createTable:
       tableName: books_authors
       columns:
          - column:
              name: book_id
              type: bigint
              constraints:
                nullable: false
                foreignKeyName: fk_books_authors_books
                references: books(id)
          - column:
              name: author_id
              type: bigint
              constraints:
                nullable: false
                foreignKeyName: fk_books_authors_authors
                references: authors(id)
